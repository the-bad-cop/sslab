<html>

<head>
	<title>xam</title>
</head>

<body>
	<pre>
fcfs schedule
#include < stdio.h>
	void main()
	{
		int i, n, at[100], bt[100], ct, wt, tt, w_avg, t_avg;
		printf("Enter the no. of processes:");
		scanf("%d", &n);
		printf("Enter the arrival time and burst time of:\n");
		for (i = 0; i < n; i++)
		{
			printf("Process %d: ", i + 1);
			scanf("%d %d", &at[i], &bt[i]);
		}
		ct = 0;
		wt = 0;
		tt = 0;
		for (i = 0; i < n; i++)
		{
			ct += bt[i];
			wt += ct - at[i] - bt[i];
			tt += ct - at[i];
		}
		w_avg = wt / n;
		t_avg = tt / n;
		printf("Avg. waiting time is %d \n", w_avg);
		printf("Avg. turnaround time is %d \n", t_avg);
	}
	
sjf schedule
#include < stdio.h>
		void swap(int a[], int i, int j)
		{
			int t = a[i];
			a[i] = a[j];
			a[j] = t;
		}
		void main()
		{
			int a[20], b[20], w, t, i, j, c, s, n, tot1 = 0, tot2 = 0;
			float avg1, avg2;
			printf("\nEnter no. of processes = ");
			scanf("%d", &n);
			for (i = 0; i < n; i++)
			{
				printf("Process:%d\n ", i + 1);
				scanf("%d %d", &a[i], &b[i]);
			}
			c = a[0];
			for (i = 0; i < n; i++)
			{
				j = i;
				s = i;
				while (a[j] <= c)
				{
					if (b[s] > b[j])
					{
						s = j;
					}
					j++;
				}
				w = c - a[s];
				tot1 += w;
				t = w + b[s];
				tot2 += t;
				c += b[s];
				swap(a, i, s);
				swap(b, i, s);
			}
			avg1 = (float)tot1 / n;
			avg2 = (float)tot2 / n;
			printf("\nAvg waiting time=%f", avg1);
			printf("\nAvg turn around time=%f", avg2);
		}
		
priority scheduling
#include < stdio.h>
void main()
{
int n, small, p[20], a[20], w[20], b[20], t[20], g[20], i, j, temp;
float aww = 0, att = 0;
printf("Enter number of process==\n");
scanf("%d", &n);
printf("Enter burst time==\n");
for (i = 0; i < n; i++)
	scanf("%d", &b[i]);
printf("Enter Arrival time==\n");
for (i = 0; i < n; i++)
	scanf("%d", &a[i]);
printf("Enter priority==\n");
for (i = 0; i < n; i++)
	scanf("%d", &p[i]);
for (i = 0; i < n; i++)
{
	small = i;
	for (j = i; j < n; j++)
	{
		if (p[small] > p[j])
			small = j;
	}
	temp = p[i];
	p[i] = p[small];
	p[small] = temp;
	temp = b[i];
	b[i] = b[small];
	b[small] = temp;
	temp = a[i];
	a[i] = a[small];
	a[small] = temp;
}
g[0] = 0;
for (i = 0; i < n; i++)
	g[i + 1] = g[i] + b[i];
for (i = 0; i < n; i++)
{
	w[i] = g[i] - a[i];
	t[i] = g[i + 1] - a[i];
	aww = aww + w[i];
	att = att + t[i];
}
aww = aww / n;
att = att / n;
printf("\tARRIVALTIME\tBURSTTIME\tPRIORITY\n\n\n\n\n");
for (i = 0; i < n; i++)
	printf("\t%d\t\t%d\t\t%d\n\n", a[i], b[i], p[i]);
printf("Avg Waiting time==%f\n\n", aww);
printf("Avg Turnaroundtime==%f\n\n", att);
}

rr scheduling
#include < stdio.h>
int rear = -1, front = -1, que[30];
void enqueue(int item)
{
	if (front == -1)
	{
		front = 0;
		rear = 0;
	}
	else
		rear++;
	que[rear] = item;
}
int dequeue()
{
	int item;
	if (front == rear)
	{
		item = que[front];
		front = -1;
		rear = -1;
	}
	else
	{
		item = que[front];
		front++;
	}
	return item;
}
void main()
{
	int a[20], b[20], bt[20], p[20], w, q, i, j, c, n, tot1 = 0, tot2 = 0, s = 0, x;
	float avg1, avg2;
	printf("\nEnter the no. of processes = ");
	scanf("%d", &n);
	printf("\nEnter the processes details(arrival time and burst time):");
	for (i = 0; i < n; i++)
	{
		printf("\nprocess %d = ", i + 1);
		scanf("%d %d", &a[i], &b[i]);
		if (a[i] == a[0])
		{
			enqueue(i);
			bt[i] = 1;
		}
		p[i] = 0;
		s += b[i];
	}
	printf("\nEnter the time quantum = ");
	scanf("%d", &q);
	c = a[0];
	while (c < s)
	{
		x = 0;
		if (front != -1)
		{
			i = dequeue();
			bt[i] = 0;
			if (b[i] <= q)
			{
				w = c - (a[i] + (p[i] * q));
				tot1 += w;
				tot2 += w + (b[i] + p[i] * q);
				x += b[i];
				b[i] = 0;
			}
			else
			{
				p[i]++;
				x += q;
				b[i] -= q;
			}
			j = i + 1;
			while (a[j] <= c + x && j < n)
			{
				if (bt[j] != 1 && b[j] != 0)
				{
					enqueue(j);
					bt[j] = 1;
				}
				j++;
			}
			if (b[i] != 0 && bt[i] != 1)
			{
				enqueue(i);
				bt[i] = 1;
			}
			c += x;
			printf("%d \n", c);
		}
		else
		{
			c++;
			s++;
		}
	}
	avg1 = (float)tot1 / n;
	avg2 = (float)tot2 / n;
	printf("\navg waiting time = %f & avg turn around time = %f", avg1, avg2);
}
fcfs disk
#include < stdio.h>
	void main()
	{
		int n = 0, i = 0, head = 0, sum = 0;
		float o = 0.0, k = 5.0;
		int p[20];
		printf("Enter the no .of inputs");
		scanf("%d", &n);
		printf("Enter the inputs:\n");
		for (i = 0; i < n; i++)
		{
			scanf("%d", &p[i]);
		}
		printf("Enter the head position:");
		scanf("%d", &head);
		sum = head - p[0];
		for (i = 0; i < n - 1; i++)
		{
			sum += p[i + 1] > p[i] ? p[i + 1] - p[i] : p[i] - p[i + 1];
		}
		printf("Total Seek time= %d\n", sum);
		o = sum;
		o = o / k;
		printf("Avg Seek time= %f", o);
	}

scan disk
#include < stdio.h>
		void sort(int *, int);
		void main()
		{
			int i, j, insertpoint, track[5], len = 5, cyl = 0, tkc = 0, head = 0;
			printf("Enter head position: ");
			scanf("%d", &head);
			printf("Enter number of cylinders:");
			scanf("%d", &cyl);
			cyl = cyl - 1;
			printf("Enter no. of inputs: ");
			scanf("%d", &len);
			printf("Enter inputs:\n");
			for (i = 0; i < len; i++)
				scanf("%d", track + i);
			sort(track, len);
			insertpoint = len;
			for (i = 0; i < len; i++)
			{
				if (track[i] >= head)
				{
					insertpoint = i - 1;
					break;
				}
			}
			if (insertpoint < 0)
			{
				tkc = track[len - 1] - head;
			}
			else
			{
				tkc = cyl - head;
				tkc += cyl - track[0];
			}
			printf("Total seek time: %d\n", tkc);
			printf("avg seek time: %f\n", tkc / (float)len);
		}
		void sort(int *track, int len)
		{
			int i, j, min, temptrack, temptime;
			for (i = 0; i < len; i++)
			{
				min = i;
				for (j = i + 1; j < len; j++)
				{
					if (track[min] > track[j])
						min = j;
				}
				temptrack = track[min];
				track[min] = track[i];
				track[i] = temptrack;
			}
		}

	cscan disk
	#include < stdio.h>
			void main()
			{
				int n, head, temp = 0, i = 0, j = 0, total = 0, cyl, p[100];
				// int p[8] = {98, 183, 37, 122, 14, 124, 65, 67};
				float o, k;
				printf("Enter head position:");
				scanf("%d", &head);
				printf("Enter no. of cylinders:");
				scanf("%d", &cyl);
				printf("Enter no. of inputs:");
				scanf("%d", &n);
				printf("Enter inputs:\n");
				for (i = 0; i < n; i++)
				{
					scanf("%d", &p[i]);
				}
			
				for (i = 0; i < n; i++)
				{
					for (j = 0; j < n; j++)
					{
						if (p[i] < p[j])
						{
							temp = p[i];
							p[i] = p[j];
							p[j] = temp;
						}
					}
				}
				for (i = 0; i < n; i++)
				{
					if (p[i] > head)
					{
						break;
					}
				}
				total = (cyl - 1 - head) + p[i - 1];
				printf("Seek time %d", total);
				k = n;
				o = total;
				o = o / k;
				printf(" Avg Seek time= %f", o);
			}
	
	producer-consumer prob
	#include< stdio.h>
		#include< stdlib.h>
			int signal(int);
			int wait(int);
			void producer();
			void consumer();
			int buffer,empty,full=0,mutex=1;
			void main(){
				printf("Enter the buffer size:");
				scanf("%d",&buffer);
				empty=buffer;
				int choice;
				while(1){
					printf("Enter choice:: 1:Produce 2:Consume 3:Exit\n");
					scanf("%d",&choice);
					switch(choice){
						case 1:
							if((mutex==1)&&(empty!=0)){
								producer();
							}
							else
								printf("Buffer full!\n");
							break;
						case 2:
							if((mutex==1)&&(full!=0)){
								consumer();
							}
							else
								printf("Buffer empty!\n");
							break;
						case 3:
							exit(0);
							break;
						default: printf("Invalid selection!\n");
					}
				}
			}
			
			int signal(int a){
				return ++a;
			}
			
			int wait(int a){
				return --a;
			}
			
			void producer(){
				mutex=wait(mutex);
				full=signal(full);
				printf("Item produced\n");
				empty=wait(empty);
				mutex=signal(mutex);
			}
			
			void consumer(){
				mutex=wait(mutex);
				empty=signal(empty);
				printf("Item consumed\n");
				full=wait(full);
				mutex=signal(mutex);
			}
	
single level directory
#include < stdlib.h>
		#include < string.h>
		#include < stdio.h>
		struct
		{
			char dname[10], fname[10][10];
			int fcnt;
		} dir;
		void main()
		{
			int i, ch;
			char f[30];
			dir.fcnt = 0;
			printf("\nEnter name of directory:  ");
			scanf("%s", dir.dname);
			while (1)
			{
				printf("\n\n1. Create File\t2. Delete File\t3. Search File \t 4. Display Files\t5. Exit\nEnter your choice:");
				scanf("%d", &ch);
				switch (ch)
				{
				case 1:
					printf("\nEnter the name of the file: ");
					scanf("%s", dir.fname[dir.fcnt]);
					dir.fcnt++;
					break;
				case 2:
					printf("\nEnter the name of the file: ");
					scanf("%s", f);
					for (i = 0; i < dir.fcnt; i++)
					{
						if (strcmp(f, dir.fname[i]) == 0)
						{
							printf("File %s is deleted ", f);
							strcpy(dir.fname[i], dir.fname[dir.fcnt - 1]);
							break;
						}
					}
					if (i == dir.fcnt)
						printf("File %s not found", f);
					else
						dir.fcnt--;
					break;
				case 3:
					printf("\nEnter the name of the file: ");
					scanf("%s", f);
					for (i = 0; i < dir.fcnt; i++)
					{
						if (strcmp(f, dir.fname[i]) == 0)
						{
							printf("File %s is found ", f);
							break;
						}
					}
					if (i == dir.fcnt)
						printf("File %s not found", f);
					break;
				case 4:
					if (dir.fcnt == 0)
						printf("\nDirectory Empty");
					else
					{
						printf("\nThe Files are :");
						for (i = 0; i < dir.fcnt; i++)
							printf("\t%s", dir.fname[i]);
					}
					break;
				}
			}
		}
two level directory
#include <stdio.h>
#include <string.h>
typedef struct user
{
	int g;
	char name[10];
	char dir[10];
	char files[10][10];
} User;
void main()
{
	User users[10];
	int g = 0, i = 0, j = 0, n, m, z;
	char null[1] = {'\0'};
	char temp[10];
	void afterlogin(int id)
	{
		void display()
		{
			printf("\n The files in directory %s are:\n ", users[id].dir);
			i = 0;
			while (i < users[id].g)
			{
				printf("%s\n", users[id].files[i]);
				i++;
			}
		}
		void create()
		{
			printf("Enter the file name ");
			scanf("%s", temp);
			i = 0;
			while (i < 10)
			{
				m = strcmp(temp, users[id].files[i]);
				if (m == 0)
				{
					printf("\nFile exists!\n");
					return;
				}
				i++;
			}
			j = users[id].g++;
			strcpy(users[id].files[j], temp);
			printf("File created\n");
			// display();
		}
		void search()
		{
			i = 0;
			printf("\nEnter the filename\n");
			scanf("%s", temp);
			while (i < 10)
			{
				m = strcmp(temp, users[id].files[i]);
				if (m == 0)
				{
					printf("\nFile found\n");
					return;
				}
				i++;
			}
			printf("\nFile not Found\n");
			return;
		}
		void delete ()
		{
			i = 0;
			printf("\nEnter the filename to delete\n");
			scanf("%s", temp);
			while (i < 10)
			{
				m = strcmp(temp, users[id].files[i]);
				if (m == 0)
				{
					strcpy(users[id].files[i], null);
					printf("\nFile deleted\n");
					return;
				}
				i++;
			}
			printf("\nFile not Found\n");
			return;
		}
		while (1)
		{
			printf("Choose an option:\n");
			printf("1.Create file\n2.Search file\n3.Delete file\n4.Display files\n5.Go back\n");
			scanf("%d", &n);
			switch (n)
			{
			case 1:
				create();
				break;
			case 2:
				search();
				break;
			case 3:
				delete ();
				break;
			case 4:
				display();
				break;
			case 5:
				break;
			default:
				printf("\nEnter a valid option\n");
				break;
			}
			if (n == 5)
			{
				break;
			}
		}
		printf("\n");
	}
	void createUser()
	{
		printf("Enter the username: ");
		scanf("%s", temp);
		strcpy(users[g].name, temp);
		users[g].g = 0;
		printf("Enter the dirname for %s: ", temp);
		scanf("%s", temp);
	}
	void login()
	{
		printf("Enter the username: ");
		scanf("%s", temp);
		i = 0;
		while (i < 10)
		{
			int m = strcmp(users[i].name, temp);
			if (m == 0)
			{
				afterlogin(i);
				return;
			}
			i++;
		}
		printf("\nInvalid username!\n");
		return;
	}
	while (1)
	{
		printf("Choose an option:\n");
		printf("1.Create User\n2.Go to User\n5.Exit\n");
		scanf("%d", &z);
		switch (z)
		{
		case 1:
			createUser();
			break;
		case 2:
			login();
			break;
		default:
			printf("\nEnter a valid option!\n");
			break;
		}
		if (z == 5)
		{
			break;
		}
	}
}

page replacement
fifo page replacement
#include < stdio.h>
		void main()
		{
			int f, p, pg[10], pf = 0, i, c, frame[10], j, t = 0, x = 0;
			printf("\nEnter the frame size: ");
			scanf("%d", &f);
			printf("\nEnter the no. of pages: ");
			scanf("%d", &p);
			printf("\nEnter the reference string: \n");
			for (i = 0; i < p; i++)
				scanf("%d", &pg[i]);
			c = 0;
			i = 0;
			while (i < p)
			{
				while (c < f)
				{
					frame[c++] = pg[i++];
					pf++;
				}
				t = 0;
				if (c == f)
				{
					for (j = 0; j < f; j++)
					{
						if (pg[i] == frame[j])
							t = 1;
					}
					j = x;
					if (t == 0)
					{
						frame[j] = pg[i];
						x++;
						pf++;
						if (x == f)
							x = 0;
					}
					i++;
				}
			}
			printf("\nThe no. of page faults is:%d\n", pf);
		}

lru page replacement
#include < stdio.h>
		void main()
		{
			int lru[10][10], p, l = 0, i, j, k, a = 0, n, pg = 0, min, min1, in[10];
			printf("Enter the frame size:");
			scanf("%d", &p);
			printf("Enter the no.of pages:");
			scanf("%d", &n);
			printf("Enter the reference string:\n");
			k = 0;
			for (i = 0; i < 3; i++)
			{
				for (j = 0; j < 3; j++)
				{
					lru[i][j] = -1;
				}
			}
			while (k < n)
			{
				scanf("%d", &in[k]);
				k++;
			}
			l = 0;
			for (i = 0; i < n; i++)
			{
				a = 0;
				k = 0;
				if (i < p)
				{
					while (k < p)
					{
						if (in[i] == lru[k][0])
						{
							lru[k][1]++;
							lru[k][2] = i;
							a = 1;
							break;
						}
						k++;
					}
					if (a == 0)
					{
						lru[l][0] = in[i];
						lru[l][1] = 0;
						lru[l++][2] = i;
						pg++;
					}
				}
				else
				{
					while (k < p)
					{
						if (in[i] == lru[k][0])
						{
							lru[k][1]++;
							lru[k][2] = i;
							a = 1;
							break;
						}
						k++;
					}
					if (a == 0)
					{
						j = 0;
						min = lru[0][1];
						k = 0;
						while (k < p)
						{
							if (lru[k][1] < min)
							{
								min = lru[k][1];
							}
							k++;
						}
						k = 0;
						min1 = lru[0][2];
						while (k < p)
						{
							if (lru[k][2] <= min1 & lru[k][1] == min)
							{
								min1 = lru[k][2];
								l = k;
							}
							k++;
						}
						lru[l][0] = in[i];
						lru[l][1] = 0;
						lru[l][2] = i;
						pg++;
					}
				}
			}
			printf("\nThe no of page faults is : %d", pg);
		}

assembler
pass 1
#include < stdio.h>
		#include < string.h>
		#include < stdlib.h>
		void main()
		{
			FILE *f1, *f2, *f3, *f4;
			int lc, sa, l, op1, o, len;
			char m1[20], la[20], op[20], otp[20], ch[20], ch1[20];
			f1 = fopen("input.txt", "r");
			f3 = fopen("symtab.txt", "w");
			f4 = fopen("intermediate.txt", "w");
			fscanf(f1, "%s %s %d", la, m1, &op1);
			if (strcmp(m1, "START") == 0)
			{
			sa = op1;
			lc = sa;
			fprintf(f4, "\t%s\t%s\t%d\n", la, m1, op1);
			printf("\t%s\t%s\t%d\n", la, m1, op1);
			}
			else
			lc = 0;
			fscanf(f1, "%s %s", la, m1);
			while (!feof(f1))
			{
			fscanf(f1, "%s", op);
			fprintf(f4, "\n%d\t%s\t%s\t%s\n", lc, la, m1, op);
			printf("\n%d\t%s\t%s\t%s\n", lc, la, m1, op);
			if (strcmp(la, "-") != 0)
			{
				fprintf(f3, "\n%d\t%s\n", lc, la);
			}
			f2 = fopen("optab.txt", "r");
			fscanf(f2, "%s %d", otp, &o);
			while (!feof(f2))
			{
				if (strcmp(m1, otp) == 0)
				{
				lc = lc + 3;
				break;
				}
				fscanf(f2, "%s %d", otp, &o);
			}
			fclose(f2);
			if (strcmp(m1, "WORD") == 0)
		
			{
				lc = lc + 3;
			}
			else if (strcmp(m1, "RESW") == 0)
			{
				op1 = atoi(op);
				lc = lc + (3 * op1);
			}
			else if (strcmp(m1, "BYTE") == 0)
			{
				if (op[0] == 'X')
				lc = lc + 1;
				else
				{
				len = strlen(op) - 2;
				lc = lc + len;
				}
			}
			else if (strcmp(m1, "RESB") == 0)
			{
				op1 = atoi(op);
				lc = lc + op1;
			}
			fscanf(f1, "%s%s", la, m1);
			}
			if (strcmp(m1, "END") == 0)
			{
			printf("Program length =%d\n", lc - sa);
			}
			fclose(f1);
			fclose(f3);
			fclose(f4);
			printf("\n\nSYMTAB\n");
			f3 = fopen("symtab.txt", "r");
			while (!feof(f3))
			{
			fscanf(f3, "%s %s", ch, ch1);
			printf("%s\t%s", ch, ch1);
			printf("\n");
			}
		}
		
optab
LDA     00
STA     23
ADD     01
SUB     05

input.txt
COPY    START   1000
-       LDA     ALPHA
-       ADD     ONE
-       SUB     TWO
-       STA     BETA
ALPHA   BYTE    C'KLNCE
ONE     RESB    2
TWO     WORD    5
BETA    RESW    1
-       END     -

pass 2

		






        </pre>
</body>

</html>